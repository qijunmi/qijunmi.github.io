
<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Lesson 3: SDL Extension Libraries</title>
	
		<meta name="description" content="Doing More with More">
	
    <meta name="author" content="qijunmi">

	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		<script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
	<![endif]-->

	<link href="/assets/bootstrap3/css/bootstrap.min.css" rel="stylesheet">
	<link href="/assets/syntax.css" rel="stylesheet">
	<link href="/assets/custom.css" rel="stylesheet">
	<link rel="shortcut icon" href="/assets/img/identicon.ico">
	<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
</head>
<body>
	<div class="navbar navbar-inverse navbar-static-top" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="sr-only">Toggle nav</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="/">Qijunmi</a>
			</div>
			<div class="navbar-collapse collapse">
				<ul class="nav navbar-nav navbar-right">
					
					
					


  
    
      
        
      	<li><a href="/pages/sdl2">SDL2 Tutorials</a></li>
      	
      
    
  
    
      
        
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
        
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  





				</ul>
			</div><!--/.nav-collapse -->
		</div>
	</div>

	<div class="container content">
			
<div class="page-header">
	<h1>Lesson 3: SDL Extension Libraries <small>Doing More with More</small></h1>
</div>

<div class="col-md-12">
	<div class="col-md-9">
		<p>Up until now we&#39;ve only been using BMP images as they&#39;re the only type supported by the base SDL library,
but being restricted to using BMP images isn&#39;t that great. Fortunately there are a set of SDL extension libraries
that add useful features to SDL, such as support for a wide variety of image types through 
<a href="http://www.libsdl.org/projects/SDL_image/">SDL_image</a>. The other available libraries are
<a href="http://www.libsdl.org/projects/SDL_ttf/">SDL_ttf</a> which provides TTF rendering support, 
<a href="http://www.libsdl.org/projects/SDL_net/">SDL_net</a> which provides low level networking
and <a href="http://www.libsdl.org/projects/SDL_mixer/">SDL_mixer</a> which provides multi-channel audio playback.</p>

<!--more-->

<h2>Installing an Extension Library</h2>

<p>In this lesson we&#39;ll just need SDL<em>image but the installation process for all the extension libraries is the same. 
Download the development library for your system from the <a href="http://www.libsdl.org/projects/SDL_image/">project page</a>
and follow the instructions below to get SDL\</em>image set up on your system.</p>

<ul>
<li><p><strong>Windows</strong> (MinGW or Visual Studio): Merge the extension library&#39;s files into your existing SDL2 directory.
You&#39;ll also need to copy the SDL2_image, zlib and any image format dlls (such as libpng) over to your executable directory so that they&#39;re available at runtime</p></li>
<li><p><strong>Linux</strong>: Install from your package manager or by downloading the source and building with CMake.</p></li>
<li><p><strong>Mac</strong>: Download the .dmg from the site and follow the Readme.</p></li>
</ul>

<p>To use the libraries you&#39;ll need to update your includes and build system to link against the new extension library.</p>

<h4>Cmake</h4>

<p>Grab the appropriate module from <a href="https://github.com/Twinklebear/TwinklebearDev-Lessons/tree/master/cmake">the repo</a>
and add it to your CMake modules directory (<code>cmake/</code>). You can then look up the new extension library using the same
<code>find_package</code> method used to find SDL2 and include <code>SDL_image.h</code> in your source file.</p>

<div class="highlight"><pre><code class="language-cmake" data-lang="cmake"><span class="nb">find_package</span><span class="p">(</span><span class="s">SDL2_image</span> <span class="s">REQUIRED</span><span class="p">)</span>
<span class="nb">include_directories</span><span class="p">(</span><span class="o">${</span><span class="nv">SDL2_IMAGE_INCLUDE_DIR</span><span class="o">}</span><span class="p">)</span>
<span class="c"># Link this lesson against SDL2 and SDL2_image</span>
<span class="nb">add_executable</span><span class="p">(</span><span class="s">Lesson3</span> <span class="s">src/main.cpp</span><span class="p">)</span>
<span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">Lesson3</span> <span class="o">${</span><span class="nv">SDL2_LIBRARY</span><span class="o">}</span> <span class="o">${</span><span class="nv">SDL2_IMAGE_LIBRARY</span><span class="o">}</span><span class="p">)</span>
<span class="c"># Install target is the same as before</span></code></pre></div>

<p><br /></p>

<h4>Visual Studio</h4>

<p>Include <code>SDL_image.h</code> and add <code>SDL2_image.lib</code> to your linker dependencies.</p>

<h4>GCC or Clang on Linux and MinGW on Windows</h4>

<p>Include <code>SDL2/SDL_image.h</code> and add <code>-lSDL2_image</code> to the <code>SDLLIB</code> variable in your makefile.</p>

<h4>Clang on Mac</h4>

<p>Include <code>SDL2_image/SDL_image.h</code> and add <code>-framework SDL2_image</code> to the <code>SDL</code> variable in your makefile.</p>

<h2>Setting up Tile Properties</h2>

<p>In this lesson we&#39;ll see how to load images with SDL_image along with looking into scaling our textures when
they&#39;re drawn and come up with a method to place tiles based on the window size and the tile size. To do this
we&#39;ll need to define a tile size constant, which we&#39;ll add below our window constants.</p>

<div class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">const</span> <span class="kt">int</span> <span class="n">SCREEN_WIDTH</span>  <span class="o">=</span> <span class="mi">640</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">=</span> <span class="mi">480</span><span class="p">;</span>
<span class="c1">//We&#39;ll just be using square tiles for now</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">TILE_SIZE</span> <span class="o">=</span> <span class="mi">40</span><span class="p">;</span></code></pre></div>

<p><br /></p>

<h2>Loading Textures with SDL_image</h2>

<p>SDL<em>image lets us load multiple types of images along with allowing us to load them directly to an SDL</em>Texture
with <code>IMG_LoadTexture</code>. With this function almost all of our <code>loadTexture</code> code can be replaced and now
we call <code>IMG_LoadTexture</code> to load the texture, check for errors and return. 
We can still use <code>logSDLError</code> to log errors from the SDL<em>image library as the <a href="http://www.libsdl.org/projects/SDL_image/docs/SDL_image.html#SEC45"><code>IMG_GetError</code></a> function is just a <a href="http://hg.libsdl.org/SDL_image/file/fa3faec630de/SDL_image.h#l137">define</a> of `SDL</em>GetError`.</p>

<div class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="cm">/**</span>
<span class="cm">* Loads an image into a texture on the rendering device</span>
<span class="cm">* @param file The image file to load</span>
<span class="cm">* @param ren The renderer to load the texture onto</span>
<span class="cm">* @return the loaded texture, or nullptr if something went wrong.</span>
<span class="cm">*/</span>
<span class="n">SDL_Texture</span><span class="o">*</span> <span class="nf">loadTexture</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span><span class="n">file</span><span class="p">,</span> <span class="n">SDL_Renderer</span> <span class="o">*</span><span class="n">ren</span><span class="p">){</span>
    <span class="n">SDL_Texture</span> <span class="o">*</span><span class="n">texture</span> <span class="o">=</span> <span class="n">IMG_LoadTexture</span><span class="p">(</span><span class="n">ren</span><span class="p">,</span> <span class="n">file</span><span class="p">.</span><span class="n">c_str</span><span class="p">());</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">texture</span> <span class="o">==</span> <span class="k">nullptr</span><span class="p">){</span>
        <span class="n">logSDLError</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">,</span> <span class="s">&quot;LoadTexture&quot;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">texture</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>

<p><br /></p>

<h2>Specifying Width and Height for Rendering</h2>

<p>With SDL2 we&#39;re able to scale textures when they&#39;re rendered by specifying a width and height for the 
destination rectangle that differ from the texture&#39;s width and height. However it&#39;s also common to 
draw the textures without any scaling applied and it&#39;d be a real pain if we had to specify the width
and height each time we wanted to draw without scaling. 
To get around this we&#39;ll create two versions of <code>renderTexture</code>.
One will take the width and height along with the other parameters while another version will mirror our original
and will use the texture&#39;s width and height for the destination.</p>

<p>To set the texture&#39;s width and height for drawing we simply write the width and height we want to the destination rect&#39;s width and height fields instead of getting them from the texture.</p>

<div class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="cm">/**</span>
<span class="cm">* Draw an SDL_Texture to an SDL_Renderer at position x, y, with some desired</span>
<span class="cm">* width and height</span>
<span class="cm">* @param tex The source texture we want to draw</span>
<span class="cm">* @param ren The renderer we want to draw to</span>
<span class="cm">* @param x The x coordinate to draw to</span>
<span class="cm">* @param y The y coordinate to draw to</span>
<span class="cm">* @param w The width of the texture to draw</span>
<span class="cm">* @param h The height of the texture to draw</span>
<span class="cm">*/</span>
<span class="kt">void</span> <span class="nf">renderTexture</span><span class="p">(</span><span class="n">SDL_Texture</span> <span class="o">*</span><span class="n">tex</span><span class="p">,</span> <span class="n">SDL_Renderer</span> <span class="o">*</span><span class="n">ren</span><span class="p">,</span> <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">,</span> <span class="kt">int</span> <span class="n">w</span><span class="p">,</span> <span class="kt">int</span> <span class="n">h</span><span class="p">){</span>
    <span class="c1">//Setup the destination rectangle to be at the position we want</span>
    <span class="n">SDL_Rect</span> <span class="n">dst</span><span class="p">;</span>
    <span class="n">dst</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
    <span class="n">dst</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>
    <span class="n">dst</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="n">w</span><span class="p">;</span>
    <span class="n">dst</span><span class="p">.</span><span class="n">h</span> <span class="o">=</span> <span class="n">h</span><span class="p">;</span>
    <span class="n">SDL_RenderCopy</span><span class="p">(</span><span class="n">ren</span><span class="p">,</span> <span class="n">tex</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">dst</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<p><br /></p>

<p>We&#39;ll also create a function that provides the old functionality of drawing the texture without any scaling. This
function will just get the width and height from the texture then call our new <code>renderTexture</code> function.</p>

<div class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="cm">/**</span>
<span class="cm">* Draw an SDL_Texture to an SDL_Renderer at position x, y, preserving</span>
<span class="cm">* the texture&#39;s width and height</span>
<span class="cm">* @param tex The source texture we want to draw</span>
<span class="cm">* @param ren The renderer we want to draw to</span>
<span class="cm">* @param x The x coordinate to draw to</span>
<span class="cm">* @param y The y coordinate to draw to</span>
<span class="cm">*/</span>
<span class="kt">void</span> <span class="nf">renderTexture</span><span class="p">(</span><span class="n">SDL_Texture</span> <span class="o">*</span><span class="n">tex</span><span class="p">,</span> <span class="n">SDL_Renderer</span> <span class="o">*</span><span class="n">ren</span><span class="p">,</span> <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">){</span>
    <span class="kt">int</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">;</span>
    <span class="n">SDL_QueryTexture</span><span class="p">(</span><span class="n">tex</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">w</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">h</span><span class="p">);</span>
    <span class="n">renderTexture</span><span class="p">(</span><span class="n">tex</span><span class="p">,</span> <span class="n">ren</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<p><br /></p>

<h2>Initialize SDL_image (Optional)</h2>

<p>When loading an image for the first time SDL<em>image will automatically initialize the necessary image loading
subsystem, however this will cause some delay in loading the image since SDL</em>image will have to perform
its initialization setup first. If you&#39;d like to initialize SDL<em>image earlier
to avoid the delay when loading an image type for the first time you can do so with 
<a href="http://www.libsdl.org/projects/SDL_image/docs/SDL_image.html#SEC8"><code>IMG_Init</code></a>. `IMG</em>Init` will return
a bitmask of all the currently initialized image loaders, so we&#39;ll perform an and with the flags we passed
to see if initialization was successful. Here we only initialize the PNG loader since that&#39;s all we&#39;ll need for this lesson. This initialization should be done after initializing SDL.</p>

<div class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">if</span> <span class="p">((</span><span class="n">IMG_Init</span><span class="p">(</span><span class="n">IMG_INIT_PNG</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">IMG_INIT_PNG</span><span class="p">)</span> <span class="o">!=</span> <span class="n">IMG_INIT_PNG</span><span class="p">){</span>
    <span class="n">logSDLError</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">,</span> <span class="s">&quot;IMG_Init&quot;</span><span class="p">);</span>
    <span class="n">SDL_Quit</span><span class="p">();</span>
    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>

<p><br /></p>

<p>We then open a window and renderer the same as we did in lesson 2.</p>

<h2>Loading the Textures</h2>

<p>Since this lesson is to demonstrate loading PNGs we&#39;ll be using new images for our background and foreground. 
We&#39;ll also demonstrate that PNG transparency is preserved by using a foreground image with a transparent background drawn on top of a tiled background. Grab them both below.</p>

<figure>
    <figcaption><b>Background Tile</b></figcaption>
    <a href="https://github.com/Twinklebear/TwinklebearDev-Lessons/raw/master/res/Lesson3/background.png">
        <img src="https://github.com/Twinklebear/TwinklebearDev-Lessons/raw/master/res/Lesson3/background.png" />
    </a>
</figure>

<figure>
    <figcaption><b>Foreground</b></figcaption>
    <a href="https://github.com/Twinklebear/TwinklebearDev-Lessons/raw/master/res/Lesson3/image.png">
        <img src="https://github.com/Twinklebear/TwinklebearDev-Lessons/raw/master/res/Lesson3/image.png" />
    </a>
</figure>

<p>The images are loaded exactly the same with our <code>loadTexture</code> function. Be sure to update the file paths to match
your project structure.</p>

<div class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">resPath</span> <span class="o">=</span> <span class="n">getResourcePath</span><span class="p">(</span><span class="s">&quot;Lesson3&quot;</span><span class="p">);</span>
<span class="n">SDL_Texture</span> <span class="o">*</span><span class="n">background</span> <span class="o">=</span> <span class="n">loadTexture</span><span class="p">(</span><span class="n">resPath</span> <span class="o">+</span> <span class="s">&quot;background.png&quot;</span><span class="p">,</span> <span class="n">renderer</span><span class="p">);</span>
<span class="n">SDL_Texture</span> <span class="o">*</span><span class="n">image</span> <span class="o">=</span> <span class="n">loadTexture</span><span class="p">(</span><span class="n">resPath</span> <span class="o">+</span> <span class="s">&quot;image.png&quot;</span><span class="p">,</span> <span class="n">renderer</span><span class="p">);</span>
<span class="c1">//Make sure they both loaded ok</span>
<span class="k">if</span> <span class="p">(</span><span class="n">background</span> <span class="o">==</span> <span class="k">nullptr</span> <span class="o">||</span> <span class="n">image</span> <span class="o">==</span> <span class="k">nullptr</span><span class="p">){</span>
    <span class="n">cleanup</span><span class="p">(</span><span class="n">background</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">renderer</span><span class="p">,</span> <span class="n">window</span><span class="p">);</span>
    <span class="n">IMG_Quit</span><span class="p">();</span>
    <span class="n">SDL_Quit</span><span class="p">();</span>
    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>

<p><br /></p>

<h2>Tiling the Background</h2>

<p>Since our tiles are much smaller now we&#39;ll need a lot more than 4 to cover the entire screen and typing their
positions out by hand would be a real pain. Instead let&#39;s generate the tile draw positions to fill the screen
by using some math!</p>

<p>We can determine how many tiles each row will need by dividing the <code>SCREEN_WIDTH</code> by the <code>TILE_SIZE</code>. To determine
the number of tiles per column we can do the same thing but for the <code>SCREEN_HEIGHT</code>. Since we&#39;ll be filling a square
area of tiles the total number of tiles will be <code>tiles_per_row * tiles_per_col</code>. We could use a single for 
loop to run through all the tiles, or nested for loops to fill each tile in a row for each row. I&#39;ve chosen to go with a single loop.</p>

<p>In the loop we compute the x and y indices of the tile to determine where it should be placed. Since we&#39;re drawing
row by row in this method the x index will repeat each row, while the y index will increment after each row is filled
and we move down to the next row.
Thus we can calculate the x index using the absolute tile index modded with the number of tiles per row:
<code>x = tile_idx % tiles_per_row</code>.</p>

<p>For example, if we were drawing a 2x2 grid of tiles we&#39;d expect tile 0 to have the same x index as tile 2, which with this method it will: <code>0 % 2 == 0</code> and <code>2 % 2 == 0</code>.</p>

<p>The y index should increase after an entire row of tiles has been placed, so every <code>tiles_per_row</code> tiles. Since we&#39;re using integers
we can take advantage of integer truncation and compute this as <code>y = tile_idx / tiles_per_row</code>. So on our 2x2
grid example: row 0 will have tiles 0 and 1: <code>0/2 == 0</code> and <code>1/2 == 0</code>, 
and row 1 will have tiles 2 and 3: <code>2/2 == 1</code> and <code>3/2 == 1</code> giving the correct y indices.</p>

<p>All that&#39;s left to do is convert the indices into the pixel coordinates of the tile, which is done by multiplying
the x and y indices by the tile size, and our tiling loop is done!</p>

<div class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="c1">//Determine how many tiles we&#39;ll need to fill the screen</span>
<span class="kt">int</span> <span class="n">xTiles</span> <span class="o">=</span> <span class="n">SCREEN_WIDTH</span> <span class="o">/</span> <span class="n">TILE_SIZE</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">yTiles</span> <span class="o">=</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">/</span> <span class="n">TILE_SIZE</span><span class="p">;</span>

<span class="c1">//Draw the tiles by calculating their positions</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">xTiles</span> <span class="o">*</span> <span class="n">yTiles</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">){</span>
    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">i</span> <span class="o">%</span> <span class="n">xTiles</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">i</span> <span class="o">/</span> <span class="n">xTiles</span><span class="p">;</span>
    <span class="n">renderTexture</span><span class="p">(</span><span class="n">background</span><span class="p">,</span> <span class="n">renderer</span><span class="p">,</span> <span class="n">x</span> <span class="o">*</span> <span class="n">TILE_SIZE</span><span class="p">,</span> <span class="n">y</span> <span class="o">*</span> <span class="n">TILE_SIZE</span><span class="p">,</span> <span class="n">TILE_SIZE</span><span class="p">,</span>
        <span class="n">TILE_SIZE</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<p><br /></p>

<h2>Drawing the Foreground</h2>

<p>Our foreground image is drawn the same as before, centered in the screen.</p>

<div class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="kt">int</span> <span class="n">iW</span><span class="p">,</span> <span class="n">iH</span><span class="p">;</span>
<span class="n">SDL_QueryTexture</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">iW</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">iH</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">SCREEN_WIDTH</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">iW</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">iH</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
<span class="n">renderTexture</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">renderer</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span></code></pre></div>

<p><br /></p>

<p>We&#39;ll then present the renderer and wait a few seconds before exiting just as we did in Lesson 2.</p>

<div class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="n">SDL_RenderPresent</span><span class="p">(</span><span class="n">renderer</span><span class="p">);</span>
<span class="n">SDL_Delay</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span></code></pre></div>

<p><br /></p>

<h2>Cleaning Up</h2>

<p>Clean up is the same as in lesson 2 with one added line to quit SDL_image by calling 
<a href="http://www.libsdl.org/projects/SDL_image/docs/SDL_image.html#SEC9"><code>IMG_Quit</code></a>.</p>

<div class="highlight"><pre><code class="language-c--" data-lang="c++"><span class="n">cleanup</span><span class="p">(</span><span class="n">background</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">renderer</span><span class="p">,</span> <span class="n">window</span><span class="p">);</span>
<span class="n">IMG_Quit</span><span class="p">();</span>
<span class="n">SDL_Quit</span><span class="p">();</span></code></pre></div>

<p><br /></p>

<h2>End of Lesson</h2>

<p>If everything went well you should see this draw to your window.</p>

<p><img class="centered" width="500" height="auto" src="/assets/img/lesson_3/result.png">
<br /></p>

<p>If you have any issues check your error log and check back through the lesson. Feel free to post
any questions you may have below.</p>

<p>I&#39;ll see you again soon in <a href="/sdl2%20tutorials/2013/08/20/lesson-4-handling-events">Lesson 4: Handling Events!</a></p>

	</div>
	<div class="col-md-3">
		<h4><a href="/pages/sdl2/">Tutorial Index</a></h4>
		<h4>Helpful Links</h4>
		<a href="http://wiki.libsdl.org/moin.fcg/FrontPage">SDL Documentation</a>
		<br />
		<a href="http://forums.libsdl.org/">SDL Forums</a>
		<br />
		<a href="irc://irc.freenode.net/SDL">IRC: #SDL on freenode</a>
		<br />
		<a href="http://en.cppreference.com/w/">C++ Reference</a>
		<br />
		<a href="https://github.com/Twinklebear/TwinklebearDev-Lessons">Code on Github</a>
		<p>Published: 18 August 2013
	</div>
</div>
<div class="col-md-12 comments">
	 <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'gitblog-qijunmi'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</div>




	</div>

	
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="/assets/bootstrap3/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	</script>
</body>
</html>



